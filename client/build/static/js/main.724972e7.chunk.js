(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{115:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a(21),c=a.n(r),n=(a(84),a(85),a(8)),i=a(13),o=a(121),d=a(122),l=a(72),j=a(0);var b=()=>Object(j.jsx)("footer",{children:Object(j.jsx)(o.a,{children:Object(j.jsx)(d.a,{children:Object(j.jsx)(l.a,{className:"text-center py-3",children:"Copyright \xa9Store Notify"})})})}),p=a(131),h=a(132),O=a(127),u=a(12),x=a(7);const g="USER_LOGIN_REQUEST",m="USER_LOGIN_SUCCESS",y="USER_LOGIN_FAIL",f="USER_LOGOUT",E="USER_REGISTER_REQUEST",v="USER_REGISTER_SUCCESS",S="USER_REGISTER_FAIL",I="USER_FORGOT_PASSWORD_REQUEST",C="USER_FORGOT_PASSWORD_SUCCESS",_="USER_FORGOT_PASSWORD_FAIL",R="USER_RESET_PASSWORD_REQUEST",T="USER_RESET_PASSWORD_SUCCESS",A="USER_RESET_PASSWORD_FAIL",L="USER_RESET_PASSWORD_RESET",P="USER_DETAILS_REQUEST",D="USER_DETAILS_SUCCESS",k="USER_DETAILS_FAIL",w="USER_DETAILS_RESET",U="USER_UPDATE_PROFILE_REQUEST",N="USER_UPDATE_PROFILE_SUCCESS",F="USER_UPDATE_PROFILE_FAIL",G="USER_UPDATE_PROFILE_RESET",z="USER_LIST_REQUEST",M="USER_LIST_SUCCESS",$="USER_LIST_FAIL",q="USER_LIST_RESET",Q="USER_ADMIN_DELETE_REQUEST",B="USER_ADMIN_DELETE_SUCCESS",Y="USER_ADMIN_DELETE_FAIL",J="GET_USER_ADMIN_REQUEST",W="GET_USER_ADMIN_SUCCESS",V="GET_USER_ADMIN_FAIL",H="GET_USER_ADMIN_RESET",K="UPDATE_USER_ADMIN_REQUEST",X="UPDATE_USER_ADMIN_SUCCESS",Z="UPDATE_USER_ADMIN_FAIL",ee="UPDATE_USER_ADMIN_RESET",te="ORDER_CREATE_REQUEST",ae="ORDER_CREATE_SUCCESS",se="ORDER_CREATE_FAIL",re="ORDER_CREATE_RESET",ce="ORDER_DETAILS_REQUEST",ne="ORDER_DETAILS_SUCCESS",ie="ORDER_DETAILS_FAIL",oe="ORDER_PAY_REQUEST",de="ORDER_PAY_SUCCESS",le="ORDER_PAY_FAIL",je="ORDER_PAY_RESET",be="MY_ORDER_REQUEST",pe="MY_ORDER_SUCCESS",he="MY_ORDER_FAIL",Oe="MY_ORDER_RESET",ue="ORDER_GET_REQUEST",xe="ORDER_GET_SUCCESS",ge="ORDER_GET_FAIL",me="ORDER_UPDATE_REQUEST",ye="ORDER_UPDATE_SUCCESS",fe="ORDER_UPDATE_FAIL",Ee="ORDER_UPDATE_RESET",ve="__STORENOTIFY_CARTITEMS",Se="__STORENOTIFY_USERINFO",Ie="__STORENOTIFY_SHIPPING_ADDRESS",Ce="__STORENOTIFY_PAYMENT_METHOD";var _e=a(9),Re=a.n(_e);var Te=a(129),Ae=a(74);a(71);var Le=()=>{const[e,t]=Object(s.useState)(""),a=Object(i.k)();return Object(j.jsxs)(Te.a,{onClick:t=>{e.trim()?a.push(`/search/${e}`):a.push("/")},inline:!0,children:[Object(j.jsx)(Te.a.Control,{type:"text",name:"q",onChange:e=>{t(e.target.value)},placeholder:"Search Products",className:"ml-sm-2 ml-sm-5 w-50 search-input "}),Object(j.jsx)(Ae.a,{type:"submit",variant:"",className:"p-2 btn-custom",children:"Search"})]})};a(115);var Pe=()=>{const e=Object(x.b)(),t=Object(i.k)(),a=Object(x.c)((e=>e.userLogin.userInfo));return Object(j.jsx)("header",{children:Object(j.jsx)(p.a,{style:{backgroundColor:"#cfecfc",color:"#343a40"},variant:"light",expand:"lg",collapseOnSelect:!0,children:Object(j.jsxs)(o.a,{children:[Object(j.jsx)(u.LinkContainer,{to:"/",children:Object(j.jsx)(p.a.Brand,{style:{color:"#a5fffc"},children:Object(j.jsx)("span",{style:{color:"#0831ff","font-weight":"800","font-family":"Nunito, sans-serif"},children:"Store Notify"})})}),Object(j.jsx)(Le,{}),Object(j.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(j.jsx)(p.a.Collapse,{children:Object(j.jsxs)(h.a,{className:"ml-auto",children:[Object(j.jsx)(u.LinkContainer,{to:"/cart",children:Object(j.jsxs)(h.a.Link,{children:[Object(j.jsx)("i",{style:{color:"#0831ff"},className:"fas fa-shopping-cart"}),Object(j.jsx)("span",{style:{color:"#0831ff"},children:"Cart"})]})}),a?Object(j.jsxs)(O.a,{style:{color:"#0831ff"},title:a.name,id:"username",children:[Object(j.jsx)(u.LinkContainer,{to:"/profile",children:Object(j.jsx)(O.a.Item,{children:Object(j.jsx)("span",{style:{color:"#0831ff"},children:"Profile"})})}),Object(j.jsx)(O.a.Item,{onClick:()=>{e((e=>{e({type:f}),e({type:w}),e({type:G}),e({type:Oe}),e({type:q}),e({type:H}),e({type:ee}),e({type:Ee}),e({type:R}),localStorage.removeItem(Se)})),t.push("/login")},children:Object(j.jsx)("span",{style:{color:"#0831ff"},children:"Logout"})})]}):Object(j.jsx)(u.LinkContainer,{to:"/login",children:Object(j.jsxs)(h.a.Link,{id:"signin",children:[Object(j.jsx)("i",{style:{color:"#0831ff"},className:"fas fa-user"}),Object(j.jsx)("span",{style:{color:"#0831ff"},children:"Sign In"})]})}),a&&a.isAdmin&&Object(j.jsxs)(O.a,{title:"admin",id:"admin",children:[Object(j.jsx)(u.LinkContainer,{to:"/admin/userlist",children:Object(j.jsx)(O.a.Item,{children:"Users List"})}),Object(j.jsx)(u.LinkContainer,{to:"/admin/productlist",children:Object(j.jsx)(O.a.Item,{children:"Products"})}),Object(j.jsx)(u.LinkContainer,{to:"/admin/orderlist",children:Object(j.jsx)(O.a.Item,{children:"Orders"})})]})]})})]})})})},De=a(133);const ke=e=>{let{value:t,text:a,color:s}=e;return Object(j.jsxs)("div",{className:"rating",children:[Object(j.jsx)("span",{children:Object(j.jsx)("i",{className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star",style:{color:s}})}),Object(j.jsx)("span",{children:Object(j.jsx)("i",{className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star",style:{color:s}})}),Object(j.jsx)("span",{children:Object(j.jsx)("i",{className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star",style:{color:s}})}),Object(j.jsx)("span",{children:Object(j.jsx)("i",{className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star",style:{color:s}})}),Object(j.jsx)("span",{children:Object(j.jsx)("i",{className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star",style:{color:s}})}),Object(j.jsx)("span",{children:a&&a})]})};ke.defaultProps={color:"#f8e825",value:0};var we=ke;var Ue=e=>{let{children:t,urlToProtect:a,isAllowed:r}=e;const c=Object(i.k)(),[o,d]=Object(s.useState)(!1);Object(s.useEffect)((()=>{let e=localStorage.getItem(Se);if(null!==e&&void 0!==e)try{e=JSON.parse(e),e.token||d(!0)}catch(t){console.error("Invalid user object in localStorage")}}),[]);return Object(j.jsx)(n.Link,{to:a,onClick:e=>{o?c.push(a):(e.preventDefault(),alert("Please login to access this page."))},children:t})};var Ne=e=>{let{product:t,isAllowed:a}=e;return Object(j.jsxs)(De.a,{className:"my-3 p-3 rounded",children:[Object(j.jsx)(Ue,{urlToProtect:`/product/${t._id}`,isAllowed:a,children:Object(j.jsx)(De.a.Img,{src:t.image,variant:"top"})}),Object(j.jsxs)(De.a.Body,{children:[Object(j.jsx)(Ue,{urlToProtect:`/product/${t._id}`,isAllowed:a,children:Object(j.jsx)(De.a.Title,{as:"div",children:Object(j.jsx)("strong",{children:t.name})})}),Object(j.jsx)(De.a.Text,{as:"div",children:Object(j.jsx)(we,{value:t.rating,text:t.numReviews})}),Object(j.jsxs)(De.a.Text,{as:"h3",children:["Rs ",t.price]})]})]})};const Fe="PRODUCT_LIST_REQUEST",Ge="PRODUCT_LIST_SUCCESS",ze="PRODUCT_LIST_FAIL",Me="PRODUCT_FILTER_REQUEST",$e="PRODUCT_FILTER_SUCCESS",qe="PRODUCT_DETAIL_REQUEST",Qe="PRODUCT_DETAIL_SUCCESS",Be="PRODUCT_DETAIL_FAIL",Ye="PRODUCT_DELETE_REQUEST",Je="PRODUCT_DELETE_SUCCESS",We="PRODUCT_DELETE_FAIL",Ve="PRODUCT_CREATE_REQUEST",He="PRODUCT_CREATE_SUCCESS",Ke="PRODUCT_CREATE_FAIL",Xe="PRODUCT_CREATE_RESET",Ze="PRODUCT_UPDATE_REQUEST",et="PRODUCT_UPDATE_SUCCESS",tt="PRODUCT_UPDATE_FAIL",at="PRODUCT_UPDATE_RESET",st="PRODUCT_REVIEW_REQUEST",rt="PRODUCT_REVIEW_SUCCESS",ct="PRODUCT_REVIEW_FAIL",nt="PRODUCT_REVIEW_RESET",it="PRODUCT_TOP_RATED_REQUEST",ot="PRODUCT_TOP_RATED_SUCCESS",dt="PRODUCT_TOP_RATED_FAIL",lt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return async a=>{try{a({type:Fe});const{data:s}=await Re.a.get(`https://23f24711-ee18-4810-935b-61f010c33bec.e1-us-east-azure.choreoapps.dev/api/products?keyword=${e}&pageNumber=${t}`);a({type:Ge,payload:s})}catch(s){a({type:ze,payload:s.response&&s.response.data.message?s.response.data.message:s.message})}}},jt=e=>async t=>{try{t({type:qe});const{data:a}=await Re.a.get(`https://23f24711-ee18-4810-935b-61f010c33bec.e1-us-east-azure.choreoapps.dev/api/products/${e}`);t({type:Qe,payload:a})}catch(a){t({type:Be,payload:a.response&&a.response.data.message?a.response.data.message:a.message})}};var bt=a(134);var pt=e=>{let{pages:t,page:a,isAdmin:s=!1,keywords:r=""}=e;return t>1&&Object(j.jsx)(bt.a,{children:[...Array(t).keys()].map((e=>Object(j.jsx)(u.LinkContainer,{to:s?`/admin/productlist/page/${e+1}`:r?`/search/${r}/page/${e+1}`:`/page/${e+1}`,children:Object(j.jsx)(bt.a.Item,{active:e+1===a,children:e+1})},e+1)))})},ht=a(123);const Ot=e=>{let{variant:t,children:a}=e;return Object(j.jsx)(ht.a,{className:"alert-setting",variant:t,children:a})};Ot.defaultProps={variant:"info"};var ut=Ot,xt=a(124);var gt=()=>Object(j.jsx)(xt.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"},children:Object(j.jsx)("span",{className:"sr-only",children:"Loading ..."})}),mt=a(130),yt=a(125);var ft=()=>{const e=Object(x.b)();Object(s.useEffect)((()=>{e((async e=>{try{e({type:it});const{data:t}=await Re.a.get("https://23f24711-ee18-4810-935b-61f010c33bec.e1-us-east-azure.choreoapps.dev/api/products/toprated");e({type:ot,payload:t})}catch(r){e({type:dt,payload:r.response&&r.response.data.message?r.response.data.message:r.message})}}))}),[e]);const t=Object(x.c)((e=>e.productTopRated)),{loading:a,error:r,products:c}=t;return a?Object(j.jsx)(gt,{}):r?Object(j.jsx)(ut,{variant:"danger",children:r}):Object(j.jsx)(mt.a,{className:"bg-dark",children:c&&c.map((e=>Object(j.jsx)(mt.a.Item,{interval:5e3,children:Object(j.jsxs)(n.Link,{to:`/product/${e._id}`,children:[Object(j.jsx)(yt.a,{src:e.image,alt:e.name,fluid:!0}),Object(j.jsx)(mt.a.Caption,{className:"carousel-caption",children:Object(j.jsxs)("h2",{children:[e.name," (",e.brand,")"]})})]})},e._id)))})},Et=a(75);const vt=e=>{let{title:t}=e;return Object(j.jsx)(Et.a,{children:Object(j.jsx)("title",{children:t})})};vt.defaultProps={title:"Store Notify"};var St=vt,It=a(128);var Ct=e=>{let{products:t}=e,a=[],r=[];function c(e){return Array.from(new Set(e))}t.forEach((e=>{let{category:t,brand:s}=e;a.push(t.toLowerCase()),r.push(s.toLowerCase())}));const[n,o]=Object(s.useState)(!1),[d,l]=Object(s.useState)(""),[b,p]=Object(s.useState)(""),[h,O]=Object(s.useState)(""),[u,g]=Object(s.useState)(""),m=Object(i.k)(),y=Object(x.b)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Ae.a,{onClick:()=>{o(!0)},variant:"dark",children:"Filter products"}),Object(j.jsxs)(It.a,{show:n,onHide:()=>{o(!1)},children:[Object(j.jsx)(It.a.Header,{closeButton:!0,children:"Filter By"}),Object(j.jsx)(It.a.Body,{children:t&&Object(j.jsxs)(Te.a,{onSubmit:e=>{e.preventDefault(),y(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return async r=>{try{r({type:Me});const{data:c}=await Re.a.get(`https://23f24711-ee18-4810-935b-61f010c33bec.e1-us-east-azure.choreoapps.dev/api/products/filter?rating=${e}&price=${t}&brand=${a}&category=${s}`);r({type:$e,payload:c})}catch(c){r({type:Be,payload:c.response&&c.response.data.message?c.response.data.message:c.message})}}}(d,b,h,u)),m.push("/filter")},children:[Object(j.jsxs)(Te.a.Group,{controlId:"rating",children:[Object(j.jsx)(Te.a.Label,{children:"Rating (Minimum)"}),Object(j.jsx)(Te.a.Control,{type:"number",placeholder:"Filter by rating",value:d,onChange:e=>l(e.target.value)})]}),Object(j.jsxs)(Te.a.Group,{controlId:"price",children:[Object(j.jsx)(Te.a.Label,{children:"Price (Maximum)"}),Object(j.jsx)(Te.a.Control,{type:"number",placeholder:"Filter by Price",value:b,onChange:e=>p(e.target.value)})]}),Object(j.jsxs)(Te.a.Group,{controlId:"category",children:[Object(j.jsx)(Te.a.Label,{children:"Category"}),Object(j.jsxs)(Te.a.Control,{as:"select",value:u,onChange:e=>g(e.target.value),children:[Object(j.jsx)("option",{value:"",children:"Select Category"}),c(a).map(((e,t)=>Object(j.jsx)("option",{value:e,children:e},t)))]})]}),Object(j.jsxs)(Te.a.Group,{controlId:"brand",children:[Object(j.jsx)(Te.a.Label,{children:"Brand"}),Object(j.jsxs)(Te.a.Control,{as:"select",value:h,onChange:e=>O(e.target.value),children:[Object(j.jsx)("option",{value:"",children:"Select Brand"}),c(r).map(((e,t)=>Object(j.jsx)("option",{value:e,children:e},t)))]})]}),Object(j.jsx)(Ae.a,{variant:"dark",type:"submit",children:"Filter"})]})})]})]})};var _t=()=>{const e=Object(x.b)(),{keywords:t,pageNumber:a}=Object(i.m)(),[r,c]=Object(s.useState)(!1),n=Object(x.c)((e=>e.productList)),{loading:o,error:b,products:p,page:h,pages:O}=n;return Object(s.useEffect)((()=>{let s=localStorage.getItem(Se);null!==s&&void 0!==s&&(s=JSON.parse(s),null!==s.token&&void 0!==s.token?c(!0):c(!1)),e(lt(t,a))}),[e,t,a]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(St,{title:"Store Notify | Home"}),p&&Object(j.jsxs)(j.Fragment,{children:[!t&&Object(j.jsx)(ft,{}),Object(j.jsx)("h1",{children:"Latest Products"}),o?Object(j.jsx)(gt,{}):b?Object(j.jsx)(ut,{variant:"danger",children:b}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Ct,{products:p}),Object(j.jsx)(d.a,{children:p.map((e=>Object(j.jsx)(l.a,{sm:12,md:6,lg:6,xl:3,children:Object(j.jsx)(Ne,{product:e,isAllowed:r})},e._id)))}),Object(j.jsx)(pt,{page:h,pages:O,keywords:t||""})]})]})]})},Rt=a(135);var Tt=()=>{const{id:e}=Object(i.m)(),t=Object(i.k)(),[a,r]=Object(s.useState)(0),[c,o]=Object(s.useState)(""),b=Object(x.b)(),p=Object(x.c)((e=>e.productDetail)),{loading:h,error:O,product:u}=p,g=Object(x.c)((e=>e.productReview)),{success:m,error:y,loading:f}=g,E=Object(x.c)((e=>e.userLogin.userInfo));Object(s.useEffect)((()=>{null!==e&&void 0!==e?b(jt(e)):t.push("/requestlogin"),m&&(r(0),o(""),b({type:nt}))}),[e,b,m]);const[v,S]=Object(s.useState)(1);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(St,{title:u&&u.name}),Object(j.jsx)(n.Link,{className:"btn btn-light my-2",to:"/",children:"Go Back"}),h?Object(j.jsx)(gt,{}):O?Object(j.jsx)(ut,{variant:"danger",children:O}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{md:6,children:Object(j.jsx)(yt.a,{fluid:!0,src:u.image,alt:u.image})}),Object(j.jsx)(l.a,{md:3,children:Object(j.jsxs)(Rt.a,{variant:"flush",children:[Object(j.jsx)(Rt.a.Item,{children:Object(j.jsx)("h3",{children:u.name})}),Object(j.jsx)(Rt.a.Item,{children:Object(j.jsx)(we,{value:u.rating,text:u.numReviews})}),Object(j.jsxs)(Rt.a.Item,{children:["Price: Rs ",u.price]}),Object(j.jsxs)(Rt.a.Item,{children:["Description: ",u.description]})]})}),Object(j.jsx)(l.a,{md:3,children:Object(j.jsx)(De.a,{children:Object(j.jsxs)(Rt.a,{variant:"flush",children:[Object(j.jsx)(Rt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Price"}),Object(j.jsx)(l.a,{children:Object(j.jsxs)("strong",{children:["Rs ",u.price]})})]})}),Object(j.jsx)(Rt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Brand"}),Object(j.jsx)(l.a,{children:u.brand})]})}),Object(j.jsx)(Rt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Status"}),Object(j.jsx)(l.a,{children:u.countInStock>0?"In Stock":"Out of Stock"})]})}),u.countInStock>0&&Object(j.jsx)(Rt.a.Item,{children:Object(j.jsx)(d.a,{children:Object(j.jsx)(l.a,{children:Object(j.jsx)(Te.a.Control,{as:"select",value:v,onChange:e=>S(e.target.value),children:[...Array(u.countInStock).keys()].map((e=>Object(j.jsx)("option",{value:e+1,children:e+1},e+1)))})})})}),Object(j.jsx)(Rt.a.Item,{children:Object(j.jsx)(Ae.a,{disabled:0===u.countInStock,onClick:()=>{t.push(`/cart/${e}?qty=${v}`)},className:"btn-block btn-dark",children:"Add to Cart"})})]})})})]}),Object(j.jsx)(d.a,{children:Object(j.jsxs)(l.a,{md:6,children:[Object(j.jsx)("h2",{children:"Reviews"}),u.review&&0===u.reviews.length&&Object(j.jsx)(ut,{children:"No Reviews"}),Object(j.jsxs)(Rt.a,{variant:"flush",children:[u.reviews&&u.reviews.map((e=>Object(j.jsxs)(Rt.a.Item,{children:[Object(j.jsx)("strong",{children:e.name}),Object(j.jsx)(we,{value:e.rating}),Object(j.jsx)("p",{children:e.createdAt.substring(0,10)}),Object(j.jsx)("p",{children:e.comment})]},e._id))),Object(j.jsxs)(Rt.a.Item,{children:[Object(j.jsx)("h2",{children:"Write a Customer Review"}),m&&Object(j.jsx)(ut,{variant:"success",children:"Review submitted successfully"}),f&&Object(j.jsx)(gt,{}),y&&Object(j.jsx)(ut,{variant:"danger",children:y}),E?Object(j.jsxs)(Te.a,{onSubmit:t=>{t.preventDefault(),b(((e,t)=>async(a,s)=>{try{a({type:st});const r={headers:{"Content-Type":"Application/json",Authorization:s().userLogin.userInfo.token}},{data:c}=await Re.a.post(`https://23f24711-ee18-4810-935b-61f010c33bec.e1-us-east-azure.choreoapps.dev/api/products/${t}/review`,{rating:e.rating,comment:e.comment},r);a({type:rt,payload:c})}catch(O){a({type:ct,payload:O.response&&O.response.data.message?O.response.data.message:O.message})}})({rating:a,comment:c},e))},children:[Object(j.jsxs)(Te.a.Group,{controlId:"rating",children:[Object(j.jsx)(Te.a.Label,{children:"Rating"}),Object(j.jsxs)(Te.a.Control,{as:"select",value:a,onChange:e=>r(e.target.value),children:[Object(j.jsx)("option",{value:"",children:"Select..."}),Object(j.jsx)("option",{value:"1",children:"1 - Poor"}),Object(j.jsx)("option",{value:"2",children:"2 - Fair"}),Object(j.jsx)("option",{value:"3",children:"3 - Good"}),Object(j.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(j.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),Object(j.jsxs)(Te.a.Group,{controlId:"comment",children:[Object(j.jsx)(Te.a.Label,{children:"Comment"}),Object(j.jsx)(Te.a.Control,{as:"textarea",row:"3",value:c,onChange:e=>o(e.target.value)})]}),Object(j.jsx)(Ae.a,{disabled:f,type:"submit",variant:"primary",children:"Submit"})]}):Object(j.jsx)(ut,{children:Object(j.jsx)(n.Link,{to:"/login",children:"Please sign in to write a review"})})]})]})]})})]})]})};const At="CART_ADD_ITEM",Lt="CART_REMOVE_ITEM",Pt="CART_ITEM_RESET",Dt="CART_SAVE_SHIPPING_ADDRESS",kt="CART_SAVE_PAYMENT_METHOD",wt=(e,t)=>async(a,s)=>{const{data:r}=await Re.a.get(`https://23f24711-ee18-4810-935b-61f010c33bec.e1-us-east-azure.choreoapps.dev/api/products/${e}`);a({type:At,payload:{product:r._id,name:r.name,image:r.image,price:r.price,countInStock:r.countInStock,qty:t}}),localStorage.setItem(ve,JSON.stringify(s().cart.cartItems))};var Ut=e=>{let{history:t}=e;const{id:a}=Object(i.m)(),r=Object(i.l)(),c=r.search?+r.search.split("=")[1]:1,o=Object(x.b)(),b=Object(x.c)((e=>e.cart.cartItems));Object(s.useEffect)((()=>{a&&o(wt(a,c))}),[o,a,c]);const p=e=>{o((e=>(t,a)=>{t({type:Lt,payload:e}),localStorage.setItem(ve,JSON.stringify(a().cart.cartItems))})(e))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(St,{title:"Gadgets360 | Cart"}),Object(j.jsxs)(d.a,{children:[Object(j.jsxs)(l.a,{md:8,children:[Object(j.jsx)("h2",{children:"Your Cart"}),0===b.length?Object(j.jsxs)(ut,{children:["Your Cart is Empty ",Object(j.jsx)(n.Link,{to:"/",children:"GO BACK"})]}):Object(j.jsx)(Rt.a,{variant:"flush",children:b.map((e=>Object(j.jsx)(Rt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{md:2,children:Object(j.jsx)(yt.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(j.jsx)(l.a,{md:3,children:Object(j.jsx)(n.Link,{to:`/product/${e.product}`,children:e.name})}),Object(j.jsxs)(l.a,{md:2,children:["Rs ",e.price]}),Object(j.jsx)(l.a,{md:3,children:Object(j.jsx)(Te.a.Control,{as:"select",value:e.qty,onChange:t=>o(wt(e.product,+t.target.value)),children:[...Array(e.countInStock).keys()].map((e=>Object(j.jsx)("option",{value:e+1,children:e+1},e+1)))})}),Object(j.jsx)(l.a,{md:2,children:Object(j.jsx)(Ae.a,{type:"button",variant:"light",onClick:()=>p(e.product),children:Object(j.jsx)("i",{style:{fontSize:"15px"},className:"fas fa-trash"})})})]})},e.product)))})]}),Object(j.jsx)(l.a,{md:4,children:Object(j.jsx)(De.a,{children:Object(j.jsxs)(Rt.a,{variant:"flush",children:[Object(j.jsxs)(Rt.a.Item,{children:[Object(j.jsxs)("h2",{children:["Subtotal (",b.reduce(((e,t)=>e+t.qty),0),") items"]}),"Rs",b.reduce(((e,t)=>e+t.qty*t.price),0).toFixed(2)]}),Object(j.jsx)(Rt.a.Item,{children:Object(j.jsx)(Ae.a,{type:"button",className:"btn-block",disabled:0===b.length,onClick:()=>{t.push("/login?redirect=shipping")},children:"Proceed to checkout"})})]})})})]})]})};var Nt=e=>{let{children:t}=e;return Object(j.jsx)(o.a,{children:Object(j.jsx)(d.a,{className:"justify-content-md-center",children:Object(j.jsx)(l.a,{xs:12,md:6,children:t})})})};a(117);var Ft=()=>{const[e,t]=Object(s.useState)(""),[a,r]=Object(s.useState)(""),c=Object(i.k)(),o=Object(i.l)(),b=Object(x.b)(),p=Object(x.c)((e=>e.userLogin)),h=o.search?o.search.split("=")[1]:"/",{loading:O,error:u,userInfo:f}=p;Object(s.useEffect)((()=>{f&&c.push(h)}),[c,f,h]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(St,{title:"Gadgets360 | Log-In"}),Object(j.jsxs)(Nt,{children:[Object(j.jsx)("h1",{children:"Sign In"}),u&&Object(j.jsx)(ut,{variant:"danger",children:u}),O&&Object(j.jsx)(gt,{}),Object(j.jsxs)(Te.a,{onSubmit:t=>{t.preventDefault(),b(((e,t)=>async a=>{try{a({type:g});const s={headers:{"Content-Type":"application/json"}},{data:r}=await Re.a.post("https://23f24711-ee18-4810-935b-61f010c33bec.e1-us-east-azure.choreoapps.dev/api/user/login",{email:e,password:t},s);a({type:m,payload:r}),localStorage.setItem(Se,JSON.stringify(r))}catch(u){a({type:y,payload:u.response&&u.response.data.message?u.response.data.message:u.message})}})(e,a))},children:[Object(j.jsxs)(Te.a.Group,{controlId:"email",children:[Object(j.jsx)(Te.a.Label,{children:"Enter your email"}),Object(j.jsx)(Te.a.Control,{type:"email",placeholder:"Enter email",value:e,onChange:e=>t(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"password",children:[Object(j.jsx)(Te.a.Label,{children:"Enter your password"}),Object(j.jsx)(Te.a.Control,{type:"password",placeholder:"Enter password",value:a,onChange:e=>r(e.target.value),required:!0})]}),Object(j.jsx)(Ae.a,{type:"submit",className:"btn-custom",variant:"primary",children:"Sign In"})]}),Object(j.jsx)(d.a,{className:"py-3",children:Object(j.jsxs)(l.a,{children:["Forgot Password? ",Object(j.jsx)(n.Link,{to:"/forgotpassword",children:"Forgot Password"})]})}),Object(j.jsx)(d.a,{children:Object(j.jsxs)(l.a,{children:["New Customer?"," ",Object(j.jsx)(n.Link,{to:h?`/register?redirect=${h}`:"/register",children:"Register"})]})})]})]})};var Gt=()=>{const[e,t]=Object(s.useState)(""),[a,r]=Object(s.useState)(""),[c,o]=Object(s.useState)(""),[b,p]=Object(s.useState)(""),[h,O]=Object(s.useState)(""),u=Object(x.b)(),g=Object(x.c)((e=>e.userRegister)),y=Object(i.k)(),f=Object(i.l)(),I=f.search?f.search.split("=")[1]:"/",{userInfo:C,loading:_,error:R}=g;Object(s.useEffect)((()=>{C&&y.push(I)}),[y,C,I]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(St,{title:"gadgets360 | Register"}),Object(j.jsxs)(Nt,{children:[Object(j.jsx)("h1",{children:"Sign In"}),h&&Object(j.jsx)(ut,{variant:"danger",children:h}),R&&Object(j.jsx)(ut,{variant:"danger",children:R}),_&&Object(j.jsx)(gt,{}),Object(j.jsxs)(Te.a,{onSubmit:t=>{t.preventDefault(),c!==b?O("Password does not match"):u(((e,t,a)=>async s=>{try{s({type:E});const r={headers:{"Content-Type":"application/json"}},{data:c}=await Re.a.post("https://23f24711-ee18-4810-935b-61f010c33bec.e1-us-east-azure.choreoapps.dev/api/user/register",{name:e,email:t,password:a},r);s({type:v,payload:c}),s({type:m,payload:c}),localStorage.setItem(Se,JSON.stringify(c))}catch(R){s({type:S,payload:R.response&&R.response.data.message?R.response.data.message:R.message})}})(e,a,c))},children:[Object(j.jsxs)(Te.a.Group,{controlId:"name",children:[Object(j.jsx)(Te.a.Label,{children:"Name"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter Name",value:e,onChange:e=>t(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"email",children:[Object(j.jsx)(Te.a.Label,{children:"Enter your email"}),Object(j.jsx)(Te.a.Control,{type:"email",placeholder:"Enter email",value:a,onChange:e=>r(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"password",children:[Object(j.jsx)(Te.a.Label,{children:"Enter your password"}),Object(j.jsx)(Te.a.Control,{type:"password",placeholder:"Enter password",value:c,onChange:e=>o(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"confirmPassword",children:[Object(j.jsx)(Te.a.Label,{children:"Confirm password"}),Object(j.jsx)(Te.a.Control,{type:"password",placeholder:"Confirm Password",value:b,onChange:e=>p(e.target.value),required:!0})]}),Object(j.jsx)(Ae.a,{type:"submit",variant:"primary",children:"Register"})]}),Object(j.jsx)(d.a,{className:"py-3",children:Object(j.jsxs)(l.a,{children:["Have an account?"," ",Object(j.jsx)(n.Link,{to:I?`/login?redirect=${I}`:"/login",children:"Login"})]})})]})]})},zt=a(126);const Mt=e=>async(t,a)=>{try{t({type:ce});const s={headers:{Authorization:a().userLogin.userInfo.token}},{data:r}=await Re.a.get(`https://23f24711-ee18-4810-935b-61f010c33bec.e1-us-east-azure.choreoapps.dev/api/orders/${e}`,s);t({type:ne,payload:r})}catch(s){t({type:ie,payload:s.response&&s.response.data.message?s.response.data.message:s.message})}};var $t=()=>{const[e,t]=Object(s.useState)(""),[a,r]=Object(s.useState)(""),[c,n]=Object(s.useState)(""),[o,b]=Object(s.useState)(""),[p,h]=Object(s.useState)(""),O=Object(x.b)(),g=Object(i.k)(),y=Object(x.c)((e=>e.userDetails)),{user:f,loading:E,error:v}=y,S=Object(x.c)((e=>e.userLogin)),{userInfo:I}=S,C=Object(x.c)((e=>e.myOrder)),{loading:_,myOrders:R,error:T}=C,A=Object(x.c)((e=>e.userUpdateProfile.success));Object(s.useEffect)((()=>{var e;I?f&&f.name&&!A?(t(f.name),r(f.email)):(O({type:G}),O((e="profile",async(t,a)=>{try{t({type:P});const{userInfo:s}=a().userLogin,r={headers:{"Content-Type":"application/json",Authorization:s.token}},{data:c}=await Re.a.get(`https://23f24711-ee18-4810-935b-61f010c33bec.e1-us-east-azure.choreoapps.dev/api/user/${e}`,r);t({type:D,payload:c})}catch(v){t({type:k,payload:v.response&&v.response.data.message?v.response.data.message:v.message})}})),O((async(e,t)=>{try{e({type:be});const a={headers:{"Content-Type":"application/json",Authorization:t().userLogin.userInfo.token}},{data:s}=await Re.a.get("/api/orders/myorders",a);e({type:pe,payload:s})}catch(v){e({type:he,payload:v.response&&v.response.data.message?v.response.data.message:v.message})}}))):g.push("/login")}),[O,g,I,f,A]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(St,{title:I&&`Gadgets360 | ${I.name}`}),Object(j.jsxs)(d.a,{children:[Object(j.jsxs)(l.a,{md:3,children:[Object(j.jsx)("h2",{children:"Users profile"}),p&&Object(j.jsx)(ut,{variant:"danger",children:p}),v&&Object(j.jsx)(ut,{variant:"danger",children:v}),A&&Object(j.jsx)(ut,{variant:"info",children:"Profile updated Successfully"}),E&&Object(j.jsx)(gt,{}),Object(j.jsxs)(Te.a,{onSubmit:t=>{if(t.preventDefault(),c!==o)h("Password does not match");else{const t={_id:f._id,name:e,email:a,password:c};O((e=>async(t,a)=>{try{t({type:U});const{userInfo:s}=a().userLogin,r={headers:{"Content-Type":"application/json",Authorization:s.token}},{data:c}=await Re.a.put("https://23f24711-ee18-4810-935b-61f010c33bec.e1-us-east-azure.choreoapps.dev/api/user/profile",e,r);t({type:N,payload:c}),t({type:m,payload:c}),localStorage.setItem(Se,JSON.stringify(c))}catch(v){t({type:F,payload:v.response&&v.response.data.message?v.response.data.message:v.message})}})(t))}},children:[Object(j.jsxs)(Te.a.Group,{controlId:"name",children:[Object(j.jsx)(Te.a.Label,{children:"Name"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter Name",value:e,onChange:e=>t(e.target.value)})]}),Object(j.jsxs)(Te.a.Group,{controlId:"email",children:[Object(j.jsx)(Te.a.Label,{children:"Enter your email"}),Object(j.jsx)(Te.a.Control,{type:"email",placeholder:"Enter email",value:a,onChange:e=>r(e.target.value)})]}),Object(j.jsxs)(Te.a.Group,{controlId:"password",children:[Object(j.jsx)(Te.a.Label,{children:"Enter your password"}),Object(j.jsx)(Te.a.Control,{type:"password",placeholder:"Enter password",value:c,onChange:e=>n(e.target.value)})]}),Object(j.jsxs)(Te.a.Group,{controlId:"confirmPassword",children:[Object(j.jsx)(Te.a.Label,{children:"Confirm password"}),Object(j.jsx)(Te.a.Control,{type:"password",placeholder:"Confirm Password",value:o,onChange:e=>b(e.target.value)})]}),Object(j.jsx)(Ae.a,{type:"submit",variant:"primary",children:"Update"})]})]}),Object(j.jsxs)(l.a,{md:9,children:[Object(j.jsx)("h2",{children:"My Orders"}),_?Object(j.jsx)(gt,{}):T?Object(j.jsx)(ut,{variant:"danger",children:T}):Object(j.jsxs)(zt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID"}),Object(j.jsx)("th",{children:"DATE"}),Object(j.jsx)("th",{children:"TOTAL"}),Object(j.jsx)("th",{children:"PAID"}),Object(j.jsx)("th",{children:"DELIVERED"}),Object(j.jsx)("th",{})]})}),Object(j.jsx)("tbody",{children:R.map((e=>Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e._id}),Object(j.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(j.jsx)("td",{children:e.totalPrice}),Object(j.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):Object(j.jsx)("i",{className:"fas fa-times text-center",style:{color:"red"}})}),Object(j.jsx)("td",{children:e.isDelivered?e.deliveredAt.substring(0,10):Object(j.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(j.jsx)("td",{children:Object(j.jsx)(u.LinkContainer,{to:`/order/${e._id}`,children:Object(j.jsx)(Ae.a,{className:"btn-sm",variant:"dark",children:"Details"})})})]},e._id)))})]})]})]})]})};var qt=e=>{let{step1:t,step2:a,step3:s,step4:r}=e;return Object(j.jsxs)(h.a,{className:"justify-content-center mb-4",children:[Object(j.jsx)(h.a.Item,{children:t?Object(j.jsx)(u.LinkContainer,{to:"/login",children:Object(j.jsx)(h.a.Link,{children:"Sign In"})}):Object(j.jsx)(h.a.Link,{disabled:!0,children:"Sign In"})}),Object(j.jsx)(h.a.Item,{children:a?Object(j.jsx)(u.LinkContainer,{to:"/shipping",children:Object(j.jsx)(h.a.Link,{children:"Shipping"})}):Object(j.jsx)(h.a.Link,{disabled:!0,children:"shipping"})}),Object(j.jsx)(h.a.Item,{children:s?Object(j.jsx)(u.LinkContainer,{to:"/payment",children:Object(j.jsx)(h.a.Link,{children:"Payment"})}):Object(j.jsx)(h.a.Link,{disabled:!0,children:"Payment"})}),Object(j.jsx)(h.a.Item,{children:r?Object(j.jsx)(u.LinkContainer,{to:"/placeorder",children:Object(j.jsx)(h.a.Link,{children:"Place Order"})}):Object(j.jsx)(h.a.Link,{disabled:!0,children:"Place Order"})})]})};var Qt=()=>{const e=Object(x.c)((e=>e.cart.shippingAddress)),[t,a]=Object(s.useState)(e.address||""),[r,c]=Object(s.useState)(e.city||""),[n,o]=Object(s.useState)(e.postalCode||""),[d,l]=Object(s.useState)(e.country||""),b=Object(i.k)(),p=Object(x.b)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(St,{title:"gadgets360 | Shipping"}),Object(j.jsxs)(Nt,{children:[Object(j.jsx)(qt,{step1:!0,step2:!0}),Object(j.jsx)("h1",{children:"Shipping"}),Object(j.jsxs)(Te.a,{onSubmit:e=>{e.preventDefault();var a;p((a={address:t,city:r,postalCode:n,country:d},e=>{e({type:Dt,payload:a}),localStorage.setItem(Ie,JSON.stringify(a))})),b.push("/payment")},children:[Object(j.jsxs)(Te.a.Group,{controlId:"address",children:[Object(j.jsx)(Te.a.Label,{children:"Address"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter Address",value:t,onChange:e=>a(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"city",children:[Object(j.jsx)(Te.a.Label,{children:"City"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter City",value:r,onChange:e=>c(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"postalCode",children:[Object(j.jsx)(Te.a.Label,{children:"Postal Code"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter Postal Code",value:n,onChange:e=>o(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"country",children:[Object(j.jsx)(Te.a.Label,{children:"Country"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter Country",value:d,onChange:e=>l(e.target.value),required:!0})]}),Object(j.jsx)(Ae.a,{type:"submit",variant:"primary",children:"Continue"})]})]})]})};var Bt=()=>{const e=Object(x.c)((e=>e.cart.shippingAddress)),t=Object(i.k)();e||t.push("/shipping");const[a,r]=Object(s.useState)("Razorpay"),c=Object(x.b)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(St,{title:"Gadgets360 | Payment"}),Object(j.jsxs)(Nt,{children:[Object(j.jsx)(qt,{step1:!0,step2:!0,step3:!0}),Object(j.jsx)("h1",{children:"Payment Method"}),Object(j.jsxs)(Te.a,{onSubmit:e=>{var s;e.preventDefault(),c((s=a,e=>{e({type:kt,payload:s}),localStorage.setItem(Ce,JSON.stringify(s))})),t.push("/placeorder")},children:[Object(j.jsxs)(Te.a.Group,{children:[Object(j.jsx)(Te.a.Label,{as:"legend",children:"Select Method"}),Object(j.jsx)(l.a,{children:Object(j.jsx)(Te.a.Check,{type:"radio",label:"Razorpay UPI Debit Credit Card",id:"Razorpay",name:"paymentMethod",value:"Razorpay",checked:!0,onChange:e=>r(e.target.value)})})]}),Object(j.jsx)(Ae.a,{type:"submit",variant:"primary",children:"Continue"})]})]})]})};var Yt=()=>{const e=Object(x.b)(),t=Object(x.c)((e=>e.cart)),a=Object(i.k)();t.itemsPrice=t.cartItems.reduce(((e,t)=>e+t.price*t.qty),0),t.shippingPrice=t.itemsPrice>1500?0:150,t.taxPrice=Number((.05*t.itemsPrice).toFixed(2)),t.totalPrice=Number(t.itemsPrice+t.shippingPrice+t.taxPrice);const r=Object(x.c)((e=>e.orderCreate)),{success:c,order:o,error:b}=r;Object(s.useEffect)((()=>{c&&a.push(`/order/${o._id}`)}),[a,c]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(St,{title:"Gadgets360 | Confirm Order"}),Object(j.jsx)(qt,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{md:8,children:Object(j.jsxs)(Rt.a,{variant:"flush",children:[Object(j.jsxs)(Rt.a.Item,{children:[Object(j.jsx)("h2",{children:"Shipping"}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Address:"}),t.shippingAddress.address,",",t.shippingAddress.city,",",t.shippingAddress.postalCode,",",t.shippingAddress.country]})]}),Object(j.jsxs)(Rt.a.Item,{children:[Object(j.jsx)("h2",{children:"Payment Method"}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Method:"}),t.paymentMethod]})]}),Object(j.jsxs)(Rt.a.Item,{children:[Object(j.jsx)("h2",{children:"Order Items"}),0===t.cartItems.length?Object(j.jsx)(ut,{children:"Your Cart is Empty"}):Object(j.jsx)(Rt.a.Item,{children:t.cartItems.map(((e,t)=>Object(j.jsx)(Rt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{md:2,children:Object(j.jsx)(yt.a,{src:e.image,alt:e.name,fluid:!0})}),Object(j.jsx)(l.a,{children:Object(j.jsx)(n.Link,{to:`/product/${e.product}`,children:e.name})}),Object(j.jsxs)(l.a,{md:4,children:[e.qty," x Rs ",e.price," = Rs"," ",e.qty*e.price]})]})},t)))})]})]})}),Object(j.jsx)(l.a,{md:4,children:Object(j.jsx)(De.a,{children:Object(j.jsxs)(Rt.a,{variant:"flush",children:[Object(j.jsx)(Rt.a.Item,{children:Object(j.jsx)("h2",{children:"Order Summary"})}),Object(j.jsx)(Rt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Items"}),Object(j.jsxs)(l.a,{children:["Rs ",t.itemsPrice]})]})}),Object(j.jsx)(Rt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Shipping"}),Object(j.jsxs)(l.a,{children:["Rs ",t.shippingPrice]})]})}),Object(j.jsx)(Rt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Tax"}),Object(j.jsxs)(l.a,{children:["Rs ",t.taxPrice]})]})}),Object(j.jsx)(Rt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Total Price"}),Object(j.jsxs)(l.a,{children:["Rs ",t.totalPrice]})]})}),Object(j.jsx)(Rt.a.Item,{children:b&&Object(j.jsx)(ut,{variant:"danger",children:b})}),Object(j.jsx)(Rt.a.Item,{children:Object(j.jsx)(Ae.a,{type:"button",disabled:0===t.cartItems,onClick:()=>{let a={orderItems:t.cartItems,shippingAddress:t.shippingAddress,paymentMethod:t.paymentMethod,itemsPrice:t.itemsPrice,shippingPrice:t.shippingPrice,taxPrice:t.taxPrice,totalPrice:t.totalPrice};e((e=>async(t,a)=>{try{t({type:te});const s={headers:{"Content-Type":"application/json",Authorization:a().userLogin.userInfo.token}},{data:r}=await Re.a.post("/api/orders",e,s);t({type:ae,payload:r})}catch(b){t({type:se,payload:b.response&&b.response.data.message?b.response.data.message:b.message})}})(a))},className:"btn-block",children:"Place Order"})})]})})})]})]})};var Jt=()=>{const e=Object(x.b)(),{id:t}=Object(i.m)(),a=Object(i.k)(),[r,c]=Object(s.useState)(!1),[o,b]=Object(s.useState)(!1),p=Object(x.c)((e=>e.userLogin.userInfo)),h=Object(x.c)((e=>e.orderDetails)),{loading:O,error:u,order:g}=h,m=Object(x.c)((e=>e.orderPay)),{loading:y,success:f}=m,E=Object(x.c)((e=>e.updateOrder.success)),[v,S]=Object(s.useState)(!1);Object(s.useEffect)((()=>{p||a.push("/login");!g||f||g._id!==t?(e({type:je}),e(Mt(t))):g.isPaid&&window.Razorpay||(e=>{const t=document.createElement("script");t.src=e,document.body.appendChild(t),t.onload=()=>{c(!0)}})("https://checkout.razorpay.com/v1/checkout.js")}),[e,t,g,p,a,f]),O||u||(g.itemsPrice=g.orderItems.reduce(((e,t)=>e+t.price*t.qty),0)),Object(s.useEffect)((()=>{E&&e(Mt(t))}),[E,e,t]),Object(s.useEffect)((()=>{g&&g.isDelivered&&S(g.isDelivered)}),[g]);return O?Object(j.jsx)(gt,{}):u?Object(j.jsx)(ut,{variant:"danger",children:u}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(St,{title:"Gadgets360 | Order details"}),Object(j.jsxs)("h1",{children:["Order ",g._id]}),Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{md:8,children:Object(j.jsxs)(Rt.a,{variant:"flush",children:[Object(j.jsxs)(Rt.a.Item,{children:[Object(j.jsx)("h2",{children:"Shipping"}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Name:"}),g.user.name]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Email:"}),Object(j.jsx)("a",{href:`mailto:${g.user.email}`,children:g.user.email})]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Address:"}),g.shippingAddress.address,",",g.shippingAddress.city,",",g.shippingAddress.postalCode,",",g.shippingAddress.country]}),g.isDelivered?Object(j.jsxs)(ut,{variant:"success",children:["Delivered at ",g.deliveredAt]}):Object(j.jsx)(ut,{variant:"danger",children:"Not Delivered"})]}),Object(j.jsxs)(Rt.a.Item,{children:[Object(j.jsx)("h2",{children:"Payment Method"}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Method:"}),g.paymentMethod]}),g.isPaid?Object(j.jsxs)(ut,{variant:"success",children:["Order Paid at ",g.paidAt]}):Object(j.jsx)(ut,{variant:"danger",children:"Order Not Paid"})]}),Object(j.jsxs)(Rt.a.Item,{children:[Object(j.jsx)("h2",{children:"Order Items"}),0===g.orderItems.length?Object(j.jsx)(ut,{children:"Your Cart is Empty"}):Object(j.jsx)(Rt.a.Item,{children:g.orderItems.map(((e,t)=>Object(j.jsx)(Rt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{md:2,children:Object(j.jsx)(yt.a,{src:e.image,alt:e.name,fluid:!0})}),Object(j.jsx)(l.a,{children:Object(j.jsx)(n.Link,{to:`/product/${e.product}`,children:e.name})}),Object(j.jsxs)(l.a,{md:4,children:[e.qty," x Rs",e.price," = Rs",e.qty*e.price]})]})},t)))})]})]})}),Object(j.jsx)(l.a,{md:4,children:Object(j.jsx)(De.a,{children:Object(j.jsxs)(Rt.a,{variant:"flush",children:[Object(j.jsx)(Rt.a.Item,{children:Object(j.jsx)("h2",{children:"Order Summary"})}),Object(j.jsx)(Rt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Items"}),Object(j.jsxs)(l.a,{children:["Rs",g.itemsPrice]})]})}),Object(j.jsx)(Rt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Shipping"}),Object(j.jsxs)(l.a,{children:["Rs",g.shippingPrice]})]})}),Object(j.jsx)(Rt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Tax"}),Object(j.jsxs)(l.a,{children:["Rs",g.taxPrice]})]})}),Object(j.jsx)(Rt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Total Price"}),Object(j.jsxs)(l.a,{children:["Rs",g.totalPrice]})]})}),!g.isPaid&&Object(j.jsxs)(Rt.a.Item,{children:[y&&Object(j.jsx)(gt,{}),r?Object(j.jsx)(j.Fragment,{children:!p.isAdmin&&Object(j.jsx)(Ae.a,{variant:"primary",onClick:async function(){const{data:a}=await Re.a.get("/api/config/razorpay"),s={headers:{Authorization:p.token}},{data:r}=await Re.a.post(`https://23f24711-ee18-4810-935b-61f010c33bec.e1-us-east-azure.choreoapps.dev/api/orders/${t}`,"",s),{amount:c,currency:n,orderId:i}=r,o={key:a,amount:c,currency:n,name:t,description:t,order_id:i,prefill:{name:p.name,email:p.email},notes:{shippingAddress:h.order.shippingAddress.address},handler:function(a){if(a.razorpay_payment_id){const s={order_id:a.razorpay_order_id,payment_id:a.razorpay_payment_id,signature:a.razorpay_signature,email_address:p.email};b(!0),e(((e,t)=>async(a,s)=>{try{a({type:oe});const r={headers:{"Content-Type":"application/json",Authorization:s().userLogin.userInfo.token}},{data:c}=await Re.a.put(`https://23f24711-ee18-4810-935b-61f010c33bec.e1-us-east-azure.choreoapps.dev/api/orders/${e}/pay`,t,r);a({type:de,payload:c}),a({type:Pt}),localStorage.removeItem(ve)}catch(u){a({type:le,payload:u.response&&u.response.data.message?u.response.data.message:u.message})}})(t,s)),e({type:re})}}};new window.Razorpay(o).open()},children:"Pay Now"})}):Object(j.jsx)(gt,{})]}),o&&Object(j.jsx)(ut,{variant:"info",children:"Payment Done Sucessfully"}),p.isAdmin&&g.isPaid&&Object(j.jsxs)(Rt.a.Item,{children:[Object(j.jsx)(Te.a.Check,{type:"checkbox",label:"IsDelivered",checked:v,onChange:e=>S(e.target.checked)}),Object(j.jsx)(Ae.a,{className:"btn-md my-2",variant:"dark",onClick:()=>{e(((e,t)=>async(a,s)=>{try{a({type:me});const r={headers:{"Content-Type":"application/json",Authorization:s().userLogin.userInfo.token}};console.log(e),console.log(t);const{data:c}=await Re.a.put(`https://23f24711-ee18-4810-935b-61f010c33bec.e1-us-east-azure.choreoapps.dev/api/orders/${t}`,e,r);a({type:ye,payload:c})}catch(u){a({type:fe,payload:u.response&&u.response.data.message?u.response.data.message:u.message})}})({isDelivered:v},t))},children:g.isDelivered?"Mark undelivered":"Mark Delivered"})]})]})})})]})]})};var Wt=()=>{const e=Object(x.b)(),t=Object(x.c)((e=>e.userList)),a=Object(x.c)((e=>e.userLogin.userInfo)),r=Object(x.c)((e=>e.userDelete)),{success:c}=r,n=Object(i.k)(),{users:o,loading:d,error:l}=t;Object(s.useEffect)((()=>{a&&a.isAdmin?e((async(e,t)=>{try{e({type:z});const{userInfo:a}=t().userLogin,s={headers:{"Content-Type":"application/json",Authorization:a.token}},{data:r}=await Re.a.get("https://23f24711-ee18-4810-935b-61f010c33bec.e1-us-east-azure.choreoapps.dev/api/user/users",s);e({type:M,payload:r})}catch(l){e({type:$,payload:l.response&&l.response.data.message?l.response.data.message:l.message})}})):n.push("/")}),[e,n,a,c]);const b=async t=>{var a;window.confirm("Are you sure")&&e((a=t,async(e,t)=>{try{e({type:Q});const{userInfo:s}=t().userLogin,r={headers:{"Content-Type":"application/json",Authorization:s.token}};await Re.a.delete(`https://23f24711-ee18-4810-935b-61f010c33bec.e1-us-east-azure.choreoapps.dev/api/user/users/${a}`,r),e({type:B})}catch(l){e({type:Y,payload:l.response&&l.response.data.message?l.response.data.message:l.message})}}))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(St,{title:"Gadgets360 Users"}),Object(j.jsx)("h1",{children:"Users"}),d?Object(j.jsx)(gt,{}):l?Object(j.jsx)(ut,{variant:"danger",children:l}):Object(j.jsxs)(zt.a,{striped:!0,responsive:!0,hover:!0,className:"table-sm",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID"}),Object(j.jsx)("th",{children:"NAME"}),Object(j.jsx)("th",{children:"EMAIL"}),Object(j.jsx)("th",{children:"ADMIN"}),Object(j.jsx)("th",{})]})}),Object(j.jsx)("tbody",{children:o.map((e=>Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e._id}),Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{children:Object(j.jsx)("a",{href:`mailto:${e.email}`,children:e.email})}),Object(j.jsx)("td",{children:e.isAdmin?Object(j.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(j.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(j.jsxs)("td",{children:[Object(j.jsx)(u.LinkContainer,{to:`/admin/user/${e._id}/edit`,children:Object(j.jsx)(Ae.a,{className:"btn-sm",variant:"light",children:Object(j.jsx)("i",{className:"fas fa-edit"})})}),Object(j.jsx)(Ae.a,{variant:"danger",className:"btn-sm",onClick:()=>{b(e._id)},children:Object(j.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)))})]})]})};var Vt=()=>{const[e,t]=Object(s.useState)(""),[a,r]=Object(s.useState)(""),[c,o]=Object(s.useState)(!1),[d,l]=Object(s.useState)(!1),{id:b}=Object(i.m)(),p=Object(x.b)(),h=Object(x.c)((e=>e.getUserFromId)),{loading:O,error:u,user:g}=h;Object(s.useEffect)((()=>{g&&g.name&&g._id===b?(t(g.name),r(g.email),o(g.isAdmin)):p((e=>async(t,a)=>{try{t({type:J});const{userInfo:s}=a().userLogin,r={headers:{"Content-Type":"application/json",Authorization:s.token}},{data:c}=await Re.a.get(`https://23f24711-ee18-4810-935b-61f010c33bec.e1-us-east-azure.choreoapps.dev/api/user/users/${e}`,r);t({type:W,payload:c})}catch(u){t({type:V,payload:u.response&&u.response.data.message?u.response.data.message:u.message})}})(b))}),[p,b,g]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(n.Link,{to:"/admin/userlist",className:"btn btn-light my-3",children:"Go Back"}),Object(j.jsxs)(Nt,{children:[Object(j.jsx)("h1",{children:"Update User Profile"}),O?Object(j.jsx)(gt,{}):u?Object(j.jsx)(ut,{variant:"danger",children:u}):Object(j.jsxs)(j.Fragment,{children:[d&&Object(j.jsx)(ut,{variant:"info",children:"User Updated Successfully"}),Object(j.jsxs)(Te.a,{onSubmit:t=>{t.preventDefault(),p(((e,t)=>async(a,s)=>{try{a({type:K});const{userInfo:r}=s().userLogin,c={headers:{"Content-Type":"application/json",Authorization:r.token}},{data:n}=await Re.a.put(`https://23f24711-ee18-4810-935b-61f010c33bec.e1-us-east-azure.choreoapps.dev/api/user/users/${t}`,e,c);a({type:X,payload:n}),a({type:W,payload:n})}catch(u){a({type:Z,payload:u.response&&u.response.data.message?u.response.data.message:u.message})}})({name:e,email:a,isAdmin:c},b)),l(!0)},children:[Object(j.jsxs)(Te.a.Group,{controlId:"name",children:[Object(j.jsx)(Te.a.Label,{children:"Name"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter Name",value:e,onChange:e=>t(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"email",children:[Object(j.jsx)(Te.a.Label,{children:"Enter your email"}),Object(j.jsx)(Te.a.Control,{type:"email",placeholder:"Enter email",value:a,onChange:e=>r(e.target.value),required:!0})]}),Object(j.jsx)(Te.a.Group,{controlId:"isAdmin",children:Object(j.jsx)(Te.a.Check,{type:"checkbox",label:"Is Admin",checked:c,onChange:e=>o(e.target.checked)})}),Object(j.jsx)(Ae.a,{type:"submit",variant:"primary",children:"Update"})]})]})]})]})};var Ht=()=>{const e=Object(x.b)();let t=Object(i.m)().pageNumber||1;const a=Object(x.c)((e=>e.userLogin.userInfo)),r=Object(x.c)((e=>e.productList)),{loading:c,error:n,products:o,pages:b,page:p}=r,h=Object(x.c)((e=>e.productCreate)),{loading:O,error:g,product:m,success:y}=h,f=Object(x.c)((e=>e.productDelete.success)),E=Object(i.k)();Object(s.useEffect)((()=>{e({type:Xe}),a&&a.isAdmin||E.push("/login"),y?E.push(`/admin/product/${m._id}/edit`):e(lt("",t))}),[e,E,a,f,y,m,t]);const v=async t=>{var a;window.confirm("Are you sure")&&e((a=t,async(e,t)=>{try{e({type:Ye});const{userInfo:s}=t().userLogin,r={headers:{"Content-Type":"application/json",Authorization:s.token}};await Re.a.delete(`https://23f24711-ee18-4810-935b-61f010c33bec.e1-us-east-azure.choreoapps.dev/api/products/${a}`,r),e({type:Je})}catch(n){e({type:We,payload:n.response&&n.response.data.message?n.response.data.message:n.message})}}))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(St,{title:"Gadgets360 | Product-List"}),Object(j.jsxs)(d.a,{className:"align-items-center",children:[Object(j.jsx)(l.a,{children:Object(j.jsx)("h1",{children:"Products"})}),Object(j.jsx)(l.a,{className:"text-right",children:Object(j.jsxs)(Ae.a,{className:"my-3",onClick:()=>{e((async(e,t)=>{try{e({type:Ve});const{userInfo:a}=t().userLogin,s={headers:{"Content-Type":"application/json",Authorization:a.token}},{data:r}=await Re.a.post("https://23f24711-ee18-4810-935b-61f010c33bec.e1-us-east-azure.choreoapps.dev/api/products",{},s);e({type:He,payload:r})}catch(n){e({type:Ke,payload:n.response&&n.response.data.message?n.response.data.message:n.message})}}))},children:[Object(j.jsx)("i",{className:"fas fa-plus"})," Create Product"]})})]}),O&&Object(j.jsx)(gt,{}),g&&Object(j.jsx)(ut,{variant:"danger",children:g}),c?Object(j.jsx)(gt,{}):n?Object(j.jsx)(ut,{variant:"danger",children:n}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(zt.a,{striped:!0,responsive:!0,hover:!0,className:"table-sm",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID"}),Object(j.jsx)("th",{children:"NAME"}),Object(j.jsx)("th",{children:"PRICE"}),Object(j.jsx)("th",{children:"CATEGORY"}),Object(j.jsx)("th",{children:"BRAND"}),Object(j.jsx)("th",{})]})}),Object(j.jsx)("tbody",{children:o.map((e=>Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e._id}),Object(j.jsx)("td",{children:e.name}),Object(j.jsxs)("td",{children:["Rs ",e.price]}),Object(j.jsx)("td",{children:e.category}),Object(j.jsx)("td",{children:e.brand}),Object(j.jsxs)("td",{children:[Object(j.jsx)(u.LinkContainer,{to:`/admin/product/${e._id}/edit`,children:Object(j.jsx)(Ae.a,{className:"btn-sm",variant:"light",children:Object(j.jsx)("i",{className:"fas fa-edit"})})}),Object(j.jsx)(Ae.a,{variant:"danger",className:"btn-sm",onClick:()=>{v(e._id)},children:Object(j.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)))})]}),Object(j.jsx)(pt,{pages:b,page:p,isAdmin:a.isAdmin})]})]})};var Kt=()=>{const e=Object(x.b)(),{id:t}=Object(i.m)(),a=Object(i.k)(),[r,c]=Object(s.useState)(""),[o,d]=Object(s.useState)(""),[l,b]=Object(s.useState)(""),[p,h]=Object(s.useState)(""),[O,u]=Object(s.useState)(0),[g,m]=Object(s.useState)(0),[y,f]=Object(s.useState)(""),[E,v]=Object(s.useState)(!1),S=Object(x.c)((e=>e.productDetail)),{loading:I,error:C,product:_}=S,{laoding:R,error:T,success:A}=Object(x.c)((e=>e.productUpdate));Object(s.useEffect)((()=>{A?(e({type:at}),a.push("/admin/productlist")):_&&_._id===t?(c(_.name),m(_.price),d(_.image),b(_.brand),h(_.category),u(_.countInStock),f(_.description)):e(jt(t))}),[e,t,_,A,a]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(St,{title:"Gadgets360 | Edit Products"}),Object(j.jsx)(n.Link,{to:"/admin/productlist",className:"btn btn-light my-3",children:"Go Back"}),Object(j.jsxs)(Nt,{children:[Object(j.jsx)("h1",{children:"Edit Product"}),R&&Object(j.jsx)(gt,{}),T&&Object(j.jsx)(ut,{variant:"danger",children:T}),I?Object(j.jsx)(gt,{}):C?Object(j.jsx)(ut,{variant:"danger",children:C}):Object(j.jsxs)(Te.a,{onSubmit:a=>{a.preventDefault(),e(((e,t)=>async(a,s)=>{try{a({type:Ze});const{userInfo:r}=s().userLogin,c={headers:{"Content-Type":"application/json",Authorization:r.token}},{data:n}=await Re.a.put(`https://23f24711-ee18-4810-935b-61f010c33bec.e1-us-east-azure.choreoapps.dev/api/products/${t}`,e,c);a({type:et,payload:n})}catch(C){a({type:tt,payload:C.response&&C.response.data.message?C.response.data.message:C.message})}})({name:r,description:y,brand:l,category:p,countInStock:O,price:g,image:o},t))},children:[Object(j.jsxs)(Te.a.Group,{controlId:"name",children:[Object(j.jsx)(Te.a.Label,{children:"Name"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter Name",value:r,onChange:e=>c(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"price",children:[Object(j.jsx)(Te.a.Label,{children:"Price"}),Object(j.jsx)(Te.a.Control,{type:"number",placeholder:"Enter Price",value:g,onChange:e=>m(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"image",children:[Object(j.jsx)(Te.a.Label,{children:"Image"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter image url",value:o,onChange:e=>d(e.target.value)}),Object(j.jsx)(Te.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:async e=>{const t=e.target.files[0],a=new FormData;a.append("image",t),v(!0);try{const e={headers:{"Content-Type":"multipart/form-data"}},{data:t}=await Re.a.post("/api/upload",a,e);d(t),v(!1)}catch(C){console.error(C),v(!1)}}}),E&&Object(j.jsx)(gt,{})]}),Object(j.jsxs)(Te.a.Group,{controlId:"brand",children:[Object(j.jsx)(Te.a.Label,{children:"Brand"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter Brand Name",value:l,onChange:e=>b(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"countInStock",children:[Object(j.jsx)(Te.a.Label,{children:"In Stock"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter Item in Stocks",value:O,onChange:e=>u(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"category",children:[Object(j.jsx)(Te.a.Label,{children:"Category"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter Category",value:p,onChange:e=>h(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"description",children:[Object(j.jsx)(Te.a.Label,{children:"Description"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter Description",value:y,onChange:e=>f(e.target.value),required:!0})]}),Object(j.jsx)(Ae.a,{type:"submit",variant:"dark",className:"btn",children:"Update"})]})]})]})};var Xt=()=>{const e=Object(x.b)(),t=Object(x.c)((e=>e.listOrder)),{error:a,loading:r,orders:c}=t,n=Object(x.c)((e=>e.userLogin.userInfo)),o=Object(i.k)();return Object(s.useEffect)((()=>{n&&n.isAdmin?e((async(e,t)=>{try{e({type:ue});const a={headers:{"Content-Type":"application/json",Authorization:t().userLogin.userInfo.token}},{data:s}=await Re.a.get("/api/orders",a);e({type:xe,payload:s})}catch(a){e({type:ge,payload:a.response&&a.response.data.message?a.response.data.message:a.message})}})):o.push("/login")}),[e,o,n]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(St,{title:"Gadgets360 | Orders List"}),Object(j.jsx)("h1",{children:"Orders"}),r?Object(j.jsx)(gt,{}):a?Object(j.jsx)(ut,{variant:"danger",children:a}):Object(j.jsxs)(zt.a,{striped:!0,responsive:!0,hover:!0,className:"table-sm",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID"}),Object(j.jsx)("th",{children:"USER-NAME"}),Object(j.jsx)("th",{children:"POSTAl CODE"}),Object(j.jsx)("th",{children:"TOTAL"}),Object(j.jsx)("th",{children:"DATE"}),Object(j.jsx)("th",{children:"PAID"}),Object(j.jsx)("th",{children:"DELIVERED"}),Object(j.jsx)("th",{})]})}),Object(j.jsx)("tbody",{children:c.map((e=>Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e._id}),Object(j.jsx)("td",{children:e.user.name}),Object(j.jsx)("td",{children:e.shippingAddress.postalCode}),Object(j.jsxs)("td",{children:["Rs ",e.totalPrice]}),Object(j.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(j.jsx)("td",{children:e.isPaid?Object(j.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(j.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(j.jsx)("td",{children:e.isDelivered?Object(j.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(j.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(j.jsx)("td",{children:Object(j.jsx)(u.LinkContainer,{to:`/order/${e._id}`,children:Object(j.jsx)(Ae.a,{className:"btn-sm",variant:"light",children:Object(j.jsx)("i",{className:"fas fa-edit"})})})})]},e._id)))})]})]})};var Zt=()=>{const e=Object(x.c)((e=>e.filterProduct)),{products:t,error:a,loading:s}=e;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(St,{title:"Store Notify | Filtered Proucts"}),Object(j.jsx)(n.Link,{className:"btn btn-light my-2",to:"/",children:"Go Back"}),t&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Filtered Products"}),s?Object(j.jsx)(gt,{}):a?Object(j.jsx)(ut,{variant:"danger",children:a}):Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(d.a,{children:t.map((e=>Object(j.jsx)(l.a,{sm:12,md:6,lg:6,xl:3,children:Object(j.jsx)(Ne,{product:e})},e._id)))})})]})]})};var ea=()=>{const e=Object(x.b)(),[t,a]=Object(s.useState)(""),{message:r,loading:c,error:i}=Object(x.c)((e=>e.userForgotPassword));return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(St,{title:"Gadgets360 | Forgot Password"}),Object(j.jsxs)(Nt,{children:[Object(j.jsx)("h1",{children:"Forgot Password"}),i&&Object(j.jsx)(ut,{variant:"danger",children:i}),c&&Object(j.jsx)(gt,{}),r&&Object(j.jsx)(ut,{variant:"info",children:r}),Object(j.jsxs)(Te.a,{onSubmit:async a=>{a.preventDefault(),e((e=>async t=>{try{t({type:I});const a={headers:{"Content-Type":"application/json"}},{data:s}=await Re.a.post("https://23f24711-ee18-4810-935b-61f010c33bec.e1-us-east-azure.choreoapps.dev/api/user/forgotpassword",{email:e},a);t({type:C,payload:s})}catch(i){t({type:_,payload:i.response&&i.response.data.message?i.response.data.message:i.message})}})(t))},children:[Object(j.jsxs)(Te.a.Group,{controlId:"email",children:[Object(j.jsx)(Te.a.Label,{children:"Enter your email"}),Object(j.jsx)(Te.a.Control,{type:"email",placeholder:"Enter email",value:t,onChange:e=>a(e.target.value),required:!0})]}),Object(j.jsx)(Ae.a,{type:"submit",variant:"primary",children:"Send Reset Link"})]}),Object(j.jsxs)("p",{className:"my-3",children:["Have an Account ? ",Object(j.jsx)(n.Link,{to:"/login",children:"Login"})," "]})]})]})};var ta=()=>{const e=Object(x.b)(),[t,a]=Object(s.useState)(""),[r,c]=Object(s.useState)(""),[n,o]=Object(s.useState)(""),{resetToken:d}=Object(i.m)(),l=Object(i.k)(),{error:b,loading:p,userInfo:h}=Object(x.c)((e=>e.userPasswordReset));Object(s.useEffect)((()=>{h&&l.push("/")}),[h,l]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(St,{title:"Gadgets360 | Reset Password"}),Object(j.jsxs)(Nt,{children:[Object(j.jsx)("h1",{children:"Reset Password"}),n&&Object(j.jsx)(ut,{variant:"danger",children:n}),b&&Object(j.jsx)(ut,{variant:"danger",children:b}),p&&Object(j.jsx)(gt,{}),Object(j.jsxs)(Te.a,{onSubmit:async a=>{a.preventDefault(),t!==r?o("Password does not match"):e(((e,t)=>async a=>{try{a({type:L});const s={headers:{"Content-Type":"application/json"}},{data:r}=await Re.a.put("https://23f24711-ee18-4810-935b-61f010c33bec.e1-us-east-azure.choreoapps.dev/api/user/resetpassword",{resetToken:e,password:t},s);a({type:T,payload:r}),a({type:m,payload:r}),localStorage.setItem(Se,JSON.stringify(r))}catch(b){a({type:A,payload:b.response&&b.response.data.message?b.response.data.message:b.message})}})(d,t))},children:[Object(j.jsxs)(Te.a.Group,{controlId:"password",children:[Object(j.jsx)(Te.a.Label,{children:"Enter your password"}),Object(j.jsx)(Te.a.Control,{type:"password",placeholder:"Enter password",value:t,onChange:e=>a(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"confirmPassword",children:[Object(j.jsx)(Te.a.Label,{children:"Confirm password"}),Object(j.jsx)(Te.a.Control,{type:"password",placeholder:"Confirm Password",value:r,onChange:e=>c(e.target.value),required:!0})]}),Object(j.jsx)(Ae.a,{type:"submit",variant:"primary",children:"Reset Password"})]})]})]})};var aa=e=>{let{product:t}=e;return Object(j.jsxs)(De.a,{className:"my-3 p-3 rounded",children:[Object(j.jsx)("h2",{children:" Please login to see the products"}),Object(j.jsxs)(De.a.Body,{children:[Object(j.jsx)(n.Link,{to:"/login",children:Object(j.jsx)(De.a.Title,{as:"div",children:Object(j.jsx)("strong",{children:"Welcome Guest User"})})}),Object(j.jsx)(De.a.Text,{as:"div",children:Object(j.jsxs)("h3",{children:["`Visited the Site ",(new Date).toUTCString(),"`"]})}),Object(j.jsx)("button",{children:" LOGIN "})]})]})};var sa=function(){return Object(j.jsxs)(n.BrowserRouter,{children:[Object(j.jsx)(Pe,{}),Object(j.jsx)("main",{className:"py-3",children:Object(j.jsxs)(o.a,{children:[Object(j.jsx)(i.d,{path:"/login",component:Ft}),Object(j.jsx)(i.d,{path:"/requestlogin",component:aa}),Object(j.jsx)(i.d,{path:"/register",component:Gt}),Object(j.jsx)(i.d,{path:"/forgotpassword",component:ea}),Object(j.jsx)(i.d,{path:"/resetpassword/:resetToken",component:ta}),Object(j.jsx)(i.d,{path:"/profile",component:$t}),Object(j.jsx)(i.d,{path:"/shipping",component:Qt}),Object(j.jsx)(i.d,{path:"/payment",component:Bt}),Object(j.jsx)(i.d,{path:"/placeorder",component:Yt}),Object(j.jsx)(i.d,{path:"/order/:id",component:Jt}),Object(j.jsx)(i.d,{path:"/product/:id",component:Tt}),Object(j.jsx)(i.d,{path:"/cart/:id?",component:Ut}),Object(j.jsx)(i.d,{path:"/admin/userlist",component:Wt}),Object(j.jsx)(i.d,{path:"/admin/user/:id/edit",component:Vt}),Object(j.jsx)(i.d,{path:"/admin/productlist",component:Ht,exact:!0}),Object(j.jsx)(i.d,{path:"/admin/productlist/page/:pageNumber",component:Ht,exact:!0}),Object(j.jsx)(i.d,{path:"/admin/product/:id/edit",component:Kt}),Object(j.jsx)(i.d,{path:"/admin/orderlist",component:Xt}),Object(j.jsx)(i.d,{path:"/search/:keywords",component:_t}),Object(j.jsx)(i.d,{path:"/page/:pageNumber",component:_t}),Object(j.jsx)(i.d,{path:"/filter",component:Zt}),Object(j.jsx)(i.d,{path:"/search/:keywords/page/:pageNumber",component:_t}),Object(j.jsx)(i.d,{path:"/",component:_t,exact:!0})]})}),Object(j.jsx)(b,{})]})},ra=a(46),ca=a(78),na=a(79);const ia=Object(ra.combineReducers)({productList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return{loading:!0,products:[]};case Ge:return{loading:!1,products:t.payload.products,pages:t.payload.pages,page:t.payload.page};case ze:return{loading:!0,error:t.payload};default:return e}},filterProduct:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:return{loading:!0};case $e:return{loading:!1,products:t.payload};case"PRODUCT_FILTER_FAIL":return{loading:!1,error:t.payload};default:return e}},productDetail:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return{loading:!0};case Qe:return{loading:!1,product:t.payload};case Be:return{loading:!1,error:t.payload};default:return e}},productDelete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye:return{loading:!0};case Je:return{loading:!1,success:!0};case We:return{loading:!1,success:!1,error:t.payload};default:return e}},productCreate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve:return{loading:!0};case He:return{loading:!1,success:!0,product:t.payload};case Ke:return{loading:!1,success:!1,error:t.payload};case Xe:return{};default:return e}},productUpdate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze:return{loading:!0};case et:return{loading:!1,success:!0,product:t.payload};case tt:return{loading:!1,success:!1,error:t.payload};case at:return{product:{}};default:return e}},productReview:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case st:return{loading:!0};case rt:return{loading:!1,message:t.payload,success:!0};case ct:return{loading:!1,error:t.payload,success:!1};case nt:return{};default:return e}},productTopRated:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case it:return{loading:!0};case ot:return{loading:!1,products:t.payload};case dt:return{loading:!1,error:t.payload};default:return e}},cart:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case At:const a=t.payload,s=e.cartItems.find((e=>e.product===a.product));return s?{...e,cartItems:e.cartItems.map((e=>e.product===s.product?a:e))}:{...e,cartItems:[...e.cartItems,a]};case Lt:return{...e,cartItems:e.cartItems.filter((e=>e.product!==t.payload))};case Pt:return{...e,cartItems:[]};case Dt:return{...e,shippingAddress:t.payload};case kt:return{...e,paymentMethod:t.payload};default:return e}},userLogin:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{loading:!0,userInfo:null};case m:return{loading:!1,userInfo:t.payload};case y:return{loading:!1,error:t.payload};case f:return{};default:return e}},userRegister:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return{loading:!0,userInfo:null};case v:return{loading:!1,userInfo:t.payload};case S:return{loading:!1,error:t.payload};case f:return{};default:return e}},userForgotPassword:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return{loading:!0};case C:return{loading:!1,message:t.payload};case _:return{loading:!1,error:t.payload};default:return e}},userPasswordReset:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return{loading:!0,userInfo:null};case T:return{loading:!1,userInfo:t.payload};case A:return{loading:!1,error:t.payload};case L:return{};default:return e}},userDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return{loading:!0,...e};case D:return{loading:!1,user:t.payload};case k:return{loading:!1,error:t.payload};case w:return{user:{}};default:return e}},userUpdateProfile:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return{loading:!0};case N:return{loading:!1,success:!0,userInfo:t.payload};case F:return{loading:!1,success:!1,error:t.payload};case G:return{userInfo:{}};default:return e}},userList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return{loading:!0};case M:return{loading:!1,users:t.payload};case $:return{loading:!1,error:t.payload};case q:return{users:[]};default:return e}},getUserFromId:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return{loading:!0};case W:return{loading:!1,user:t.payload};case V:return{loading:!1,error:t.payload};case H:return{user:{}};default:return e}},updateUserFromId:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return{loading:!0};case X:return{loading:!1,success:!0,userInfo:t.payload};case Z:return{loading:!1,success:!1,error:t.payload};case ee:return{userInfo:{}};default:return e}},userDelete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return{loading:!0};case B:return{loading:!1,success:!0};case Y:return{loading:!1,success:!1,error:t.payload};default:return e}},orderCreate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return{loading:!0};case ae:return{loading:!1,success:!0,order:t.payload};case se:return{loading:!1,success:!1,error:t.payload};case re:return{};default:return e}},orderDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return{...e,loading:!0};case ne:return{loading:!1,order:t.payload};case ie:return{loading:!1,error:t.payload};default:return e}},orderPay:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return{loading:!0};case de:return{loading:!1,success:!0};case le:return{loading:!1,error:t.payload};case je:return{};default:return e}},myOrder:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{myOrders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return{loading:!0};case pe:return{loading:!1,myOrders:t.payload};case he:return{loading:!1,error:t.payload};case Oe:return{myOrders:[]};default:return e}},listOrder:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return{loading:!0};case xe:return{loading:!1,orders:t.payload};case ge:return{loading:!1,error:t.payload};default:return e}},updateOrder:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return{loading:!0};case ye:return{loading:!1,success:!0,orders:t.payload};case fe:return{loading:!1,success:!1,error:t.payload};case Ee:return{order:{}};default:return e}}}),oa={cart:{cartItems:localStorage.getItem(ve)?JSON.parse(localStorage.getItem(ve)):[],shippingAddress:localStorage.getItem(Ie)?JSON.parse(localStorage.getItem(Ie)):{},paymentMethod:localStorage.getItem(Ce)?JSON.parse(localStorage.getItem(Ce)):null},userLogin:{userInfo:localStorage.getItem(Se)?JSON.parse(localStorage.getItem(Se)):null}},da=[ca.a];var la=Object(ra.createStore)(ia,oa,Object(na.composeWithDevTools)(Object(ra.applyMiddleware)(...da)));c.a.render(Object(j.jsx)(x.a,{store:la,children:Object(j.jsx)(sa,{})}),document.getElementById("root"))},71:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){}},[[118,1,2]]]);
//# sourceMappingURL=main.724972e7.chunk.js.map